<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Welcome to GLA University</title>
  <style>
    body { margin:0; font-family:Arial,sans-serif; background-image:url('https://www.gla.ac.in/images/gallery/17.jpg'); background-size:cover; background-position:center; color:#006937; }
    header { background:#ffffffcc; padding:20px; text-align:center; border-bottom:2px solid #006937; }
    header img { height:80px; }
    header h1 { margin:10px 0; font-size:2.5rem; }
    header p { font-size:1.2rem; }
    #chatbox { width:90%; max-width:800px; margin:20px auto; background:#ffffffcc; border:2px solid #006937; border-radius:10px; padding:10px; height:500px; overflow-y:auto; }
    #input-area { width:90%; max-width:800px; margin:0 auto 20px; display:flex; gap:10px; }
    #input-area input { flex:1; padding:10px; font-size:1rem; border:1px solid #006937; border-radius:5px; }
    #input-area button { padding:10px 20px; font-size:1rem; background:#006937; color:#fff; border:none; border-radius:5px; cursor:pointer; }
    .message { margin:5px 0; }
    .user { text-align:right; color:#00522b; }
    .bot { text-align:left; color:#000; }
  </style>
</head>
<body>
  <header>
    <img src="https://www.gla.ac.in/images/logo.png" alt="GLA University Logo">
    <h1>Welcome to GLA University</h1>
    <p>Radhe Radhe üôè</p>
    <p>I'm your virtual assistant. Ask me about admissions, fees, hostels, and more.</p>
  </header>
  <div id="chatbox"></div>
  <div id="input-area">
    <input id="user-input" type="text" placeholder="Type your message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
  <script>
    const chatbox = document.getElementById('chatbox');
    const apiUrl = 'https://chat-gla-function-f6aheegdfwdggdc6.eastus2-01.azurewebsites.net/api/Chat-GLA1?code=osRcoSZ9TcFxjKN_6Koae4KOimd7cPnB-8QThWAyv6R-AzFuv3eI3Q==';
    async function sendMessage() {
      const input = document.getElementById('user-input');
      const text = input.value.trim(); if (!text) return;
      append('user', text);
      input.value = '';
      try {
        const res = await fetch(apiUrl, { method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({ message:text }) });
        const json = await res.json();
        const reply = json.reply || json || 'No response';
        append('bot', reply);
      } catch (e) {
        append('bot', 'Error fetching response');
      }
    }
    function append(sender, msg) {
      const div = document.createElement('div'); div.className = `message ${sender}`; div.textContent = msg;
      chatbox.appendChild(div); chatbox.scrollTop = chatbox.scrollHeight;
    }
  </script>
</body>
</html>
